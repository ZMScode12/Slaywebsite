<!DOCTYPE html>
<html>
<head>
  <title>Dynamic To-Do Tabs ðŸ˜Ž</title>
  <style>
    :root { --default-moving: linear-gradient(135deg, #5b00ff, #ff0066, #00f2ff); }

    body {
      font-family: Arial, sans-serif;
      color: white;
      text-align: center;
      padding: 40px;
      transition: background 0.6s ease;
      background: var(--default-moving);
      background-size: 400% 400%;
      animation: gradientMove 12s ease infinite;
    }

    @keyframes gradientMove {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    .hidden { display: none; }
    input, button { padding: 10px; margin: 6px; border-radius: 8px; border: none; font-size: 15px; }
    button { cursor: pointer; }
    .list-button { background-color: white; color: #6b5bff; }

    ul { list-style: none; padding: 0; margin-top: 10px; }
    li { margin: 10px; background: rgba(255,255,255,0.14); padding: 10px; border-radius: 10px; display: flex; align-items: center; justify-content: space-between; gap: 8px; }
    input[type="text"] { flex: 1; margin-left: 10px; border-radius:6px; padding:8px; border:none; }

    .gradient-option { width: 86px; height: 44px; border-radius: 10px; display: inline-block; margin: 6px; cursor: pointer; border: 3px solid transparent; box-shadow: 0 6px 18px rgba(0,0,0,0.18); }
    .gradient-option.selected { border-color: white; transform: translateY(-3px); }

    .tabs { margin-bottom: 18px; display:flex; gap:8px; flex-wrap:wrap; justify-content:center; align-items:center; }
    .tab-btn { background: rgba(255,255,255,0.12); color: white; border-radius: 12px; padding: 8px 12px; cursor: pointer; display:inline-flex; align-items:center; gap:6px; border: none; }
    .tab-btn.active { background: white; color: #6b5bff; font-weight:600; box-shadow: 0 8px 24px rgba(0,0,0,0.25); }

    .control-small { padding:6px 8px; font-size:14px; border-radius:8px; }

    /* Quick Links styling */
    #quickLinks {
      position: fixed;
      top: 50%;
      left: 20px;
      transform: translateY(-50%);
      width: 220px;
      background: rgba(255, 255, 255, 0.15);
      border-radius: 10px;
      padding: 10px;
      color: white;
      text-align: left;
    }
    #quickLinks h3 {
      margin-top: 0;
      font-size: 18px;
    }
    #quickLinks ul {
      list-style-type: disc;
      padding-left: 20px;
    }
    #quickLinks input {
      width: 100%;
      border-radius: 6px;
      border: none;
      padding: 6px;
      margin-top: 6px;
    }
    #quickLinks a {
      color: #00f2ff;
      text-decoration: none;
    }
    #quickLinks a:hover {
      text-decoration: underline;
    }
  </style>
</head>
<body>

  <!-- Quick Links (hidden until login) -->
  <div id="quickLinks" class="hidden">
    <h3>Quick Links</h3>
    <ul id="linksList"></ul>
    <input id="newLinkText" placeholder="Name">
    <input id="newLinkURL" placeholder="https://example.com">
    <button onclick="addQuickLink()">Add</button>
  </div>

  <!-- Sign up / Login -->
  <div id="signup">
    <h1>Sign Up ðŸ’«</h1>
    <input type="text" id="username" placeholder="Enter a username"><br>
    <input type="password" id="password" placeholder="Enter a password"><br>

    <p style="margin-top:8px">Pick your background style (or keep the moving default):</p>
    <div id="gradients">
      <div class="gradient-option" data-bg="linear-gradient(to right, #ff7e5f, #feb47b)" style="background: linear-gradient(to right, #ff7e5f, #feb47b)" title="Sunset"></div>
      <div class="gradient-option" data-bg="linear-gradient(to right, #2193b0, #6dd5ed)" style="background: linear-gradient(to right, #2193b0, #6dd5ed)" title="Ocean"></div>
      <div class="gradient-option" data-bg="linear-gradient(to right, #0f2027, #203a43, #2c5364)" style="background: linear-gradient(to right, #0f2027, #203a43, #2c5364)" title="Galaxy"></div>
      <div class="gradient-option" data-bg="linear-gradient(to right, #ff9a9e, #fad0c4)" style="background: linear-gradient(to right, #ff9a9e, #fad0c4)" title="Blossom"></div>
      <div class="gradient-option" data-bg="default" id="defaultOption" style="background: linear-gradient(135deg,#5b00ff,#ff0066,#00f2ff)" title="Keep moving gradient"></div>
    </div>
    <div style="margin-top:8px">
      <button onclick="createAccount()">Create Account</button>
      <button class="control-small" onclick="useDefaultNow()">Don't change â€” keep moving</button>
    </div>

    <p style="margin-top:12px">Already have an account? <a href="#" onclick="showLogin()">Log in</a></p>
  </div>

  <div id="login" class="hidden">
    <h1>Login ðŸ’«</h1>
    <input type="text" id="loginUsername" placeholder="Enter username"><br>
    <input type="password" id="loginPassword" placeholder="Enter password"><br>
    <div style="margin-top:8px">
      <button onclick="login()">Log In</button>
      <button class="control-small" onclick="showSignup()">Sign up</button>
    </div>
  </div>

  <!-- To-do lists -->
  <div id="todo" class="hidden">
    <div id="todoHeader"></div>
    <div class="tabs" id="tabsContainer"></div>
    <div id="listsContainer"></div>
    <div id="background-picker" class="hidden" style="margin-top:12px;">
      <label for="bg-select">Choose Background:</label>
      <select id="bg-select" onchange="changeBackground(this.value)">
        <option value="default">Default</option>
        <option value="linear-gradient(to right, #ff7e5f, #feb47b)">Sunset</option>
        <option value="linear-gradient(to right, #2193b0, #6dd5ed)">Ocean</option>
        <option value="linear-gradient(to right, #0f2027, #203a43, #2c5364)">Galaxy</option>
        <option value="linear-gradient(to right, #ff9a9e, #fad0c4)">Blossom</option>
      </select>
    </div>
    <div style="margin-top:12px">
      <button onclick="logout()">Logout</button>
    </div>
  </div>

<script>
/* Everything below this line is your same logic, plus Quick Links support */

let currentUser = localStorage.getItem('currentUser');
let allLists = [];
let activeListIndex = 0;
let pickedBackground = 'default';

if (currentUser) {
  showTodo();
  loadAllLists();
  loadQuickLinks();
}

function createAccount() {
  const user = username.value.trim();
  const pass = password.value.trim();
  if (!user || !pass) return alert('Please fill both fields');
  const users = JSON.parse(localStorage.getItem('users') || '{}');
  if (users[user]) return alert('User exists');
  users[user] = { password: pass, lists:[{ name:'My First List', tasks:[] }], background: pickedBackground, links: [] };
  localStorage.setItem('users', JSON.stringify(users));
  localStorage.setItem('currentUser', user);
  currentUser = user;
  loadAllLists();
  showTodo();
  renderLists();
  loadQuickLinks();
}

function login() {
  const user = loginUsername.value.trim();
  const pass = loginPassword.value.trim();
  const users = JSON.parse(localStorage.getItem('users') || '{}');
  if (!users[user] || users[user].password !== pass) return alert('Invalid credentials');
  localStorage.setItem('currentUser', user);
  currentUser = user;
  loadAllLists();
  showTodo();
  renderLists();
  loadQuickLinks();
}

function logout() {
  saveAllLists();
  localStorage.removeItem('currentUser');
  currentUser = null;
  document.getElementById('todo').classList.add('hidden');
  document.getElementById('login').classList.remove('hidden');
  document.getElementById('quickLinks').classList.add('hidden');
}

/* --- Quick Links --- */
function loadQuickLinks() {
  const users = JSON.parse(localStorage.getItem('users') || '{}');
  if (!currentUser || !users[currentUser]) return;
  const links = users[currentUser].links || [];
  const list = document.getElementById('linksList');
  list.innerHTML = '';
  links.forEach(link => {
    const li = document.createElement('li');
    const a = document.createElement('a');
    a.href = link.url;
    a.target = "_blank";
    a.textContent = link.name;
    li.appendChild(a);
    list.appendChild(li);
  });
  document.getElementById('quickLinks').classList.remove('hidden');
}

function addQuickLink() {
  const name = newLinkText.value.trim();
  const url = newLinkURL.value.trim();
  if (!name || !url) return alert('Please fill both fields');
  const users = JSON.parse(localStorage.getItem('users') || '{}');
  users[currentUser].links.push({ name, url });
  localStorage.setItem('users', JSON.stringify(users));
  newLinkText.value = '';
  newLinkURL.value = '';
  loadQuickLinks();
}
</script>
</body>
</html>
